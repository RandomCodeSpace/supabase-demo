@import "tailwindcss";

@theme {
	--font-sans: "Outfit", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}

@custom-variant dark (&:where(.dark, .dark *));

@layer base {
	:root {
		--background: 240 5% 96%;
		/* Softer off-white */
		--foreground: 240 10% 3.9%;
		--card: 0 0% 100%;
		--card-foreground: 240 10% 3.9%;
		--popover: 0 0% 100%;
		--popover-foreground: 240 10% 3.9%;
		--primary: 142 76% 36%;
		/* Zen Green */
		--primary-foreground: 355.7 100% 97.3%;
		--secondary: 240 4.8% 90%;
		/* Darker for input contrast against off-white bg */
		--secondary-foreground: 240 5.9% 10%;
		--muted: 240 4.8% 95.9%;
		--muted-foreground: 240 3.8% 46.1%;
		--accent: 240 4.8% 95.9%;
		--accent-foreground: 240 5.9% 10%;
		--destructive: 0 84.2% 60.2%;
		--destructive-foreground: 0 0% 98%;
		--border: 240 5.9% 90%;
		--input: 240 5.9% 90%;
		--ring: 142 76% 36%;
		--radius: 1rem;
	}

	.dark {
		--background: 240 10% 3.9%;
		--foreground: 0 0% 98%;
		--card: 240 10% 3.9%;
		--card-foreground: 0 0% 98%;
		--popover: 240 10% 3.9%;
		--popover-foreground: 0 0% 98%;
		--primary: 142 76% 36%;
		--primary-foreground: 355.7 100% 97.3%;
		--secondary: 240 3.7% 15.9%;
		--secondary-foreground: 0 0% 98%;
		--muted: 240 3.7% 15.9%;
		--muted-foreground: 240 5% 64.9%;
		--accent: 240 3.7% 15.9%;
		--accent-foreground: 0 0% 98%;
		--destructive: 0 62.8% 30.6%;
		--destructive-foreground: 0 0% 98%;
		--border: 240 3.7% 15.9%;
		--input: 240 3.7% 15.9%;
		--ring: 142 76% 36%;
	}
}

@theme {
	--color-background: hsl(var(--background));
	--color-foreground: hsl(var(--foreground));
	--color-card: hsl(var(--card));
	--color-card-foreground: hsl(var(--card-foreground));
	--color-popover: hsl(var(--popover));
	--color-popover-foreground: hsl(var(--popover-foreground));
	--color-primary: hsl(var(--primary));
	--color-primary-foreground: hsl(var(--primary-foreground));
	--color-secondary: hsl(var(--secondary));
	--color-secondary-foreground: hsl(var(--secondary-foreground));
	--color-muted: hsl(var(--muted));
	--color-muted-foreground: hsl(var(--muted-foreground));
	--color-accent: hsl(var(--accent));
	--color-accent-foreground: hsl(var(--accent-foreground));
	--color-destructive: hsl(var(--destructive));
	--color-destructive-foreground: hsl(var(--destructive-foreground));
	--color-border: hsl(var(--border));
	--color-input: hsl(var(--input));
	--color-ring: hsl(var(--ring));
	--radius-lg: var(--radius);
	--radius-md: calc(var(--radius) - 2px);
	--radius-sm: calc(var(--radius) - 4px);

	/* Legacy Zen mappings to prevent breaking changes */
	--color-zen-bg: hsl(var(--background));
	--color-zen-surface: hsl(var(--card));
	--color-zen-primary: hsl(var(--primary));
	--color-zen-text: hsl(var(--foreground));
	--color-zen-text-muted: hsl(var(--muted-foreground));
	--color-zen-btn-primary: hsl(var(--primary));
}

@layer base {

	html,
	body {
		@apply h-full w-full overflow-hidden overscroll-none;
	}

	body {
		@apply bg-zen-bg text-zen-text antialiased font-sans;
		font-feature-settings:
			"rlig" 1,
			"calt" 1;
	}
}

@layer utilities {

	/* Base Glass - Updated for better Light Mode support */
	.glass {
		@apply bg-white/70 dark:bg-zen-surface/70 backdrop-blur-xl border border-white/20 dark:border-white/10 shadow-sm transition-all duration-300;
	}

	/* 3D Pop-out Glass - Adjusted for Light Mode depth */
	.glass-3d {
		@apply bg-white/80 dark:bg-zen-surface/80 backdrop-blur-2xl border border-white/40 dark:border-white/10 shadow-xl shadow-black/5 dark:shadow-black/80;
		/* Inner subtle highlight for 3D edge */
		box-shadow:
			0 0 0 1px rgba(255, 255, 255, 0.5) inset,
			/* Inner bezel */
			0 10px 20px -5px rgba(0, 0, 0, 0.05),
			0 5px 10px -5px rgba(0, 0, 0, 0.02);
	}

	/* Glow effect helper */
	.glow-behind {
		@apply absolute -inset-4 rounded-3xl blur-2xl opacity-20 bg-zen-primary z-0 pointer-events-none;
	}
}

@theme {
	--animate-border-beam: border-beam calc(var(--duration)*1s) infinite linear;

	@keyframes border-beam {
		100% {
			offset-distance: 100%;
		}
	}
}